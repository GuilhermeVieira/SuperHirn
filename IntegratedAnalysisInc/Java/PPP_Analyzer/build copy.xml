<?xml version="1.0"?>
<project name="PPP_Analyzer" default="jar" basedir=".">


	<!-- ************************************************************** -->
	<!-- Change only here: 												-->

	<!-- This is the target directory to which the jar will be compiled -->
	<property name="OutputDirectory" value="./dist/" />


	<!-- Version number of the jar -->
	<property name="Version" value="v0.1" />

	<!-- ************************************************************** -->

	<property name="ProgramName" value="PPP_Analyzer" />
	<property name="libDir" value="libs" />
	<property name="codeSource" value="src/${ProgramName}/" />
	<property name="dist" value="${OutputDirectory}" />
	<property name="targetSrc" value="${dist}/classes/" />
	<property name="targetLibs" value="${dist}/lib" />
	<property name="targetDoc" value="${dist}/doc/" />
	<property name="sourceDoc" value="doc" />


	<property name="binDir" value="${dist}/" />
	<property name="jarName" value="${dist}/${ProgramName}.jar" />


	<path id="jarset">
		<pathelement location="${libDir}/commons-beanutils-1.8.2.jar" />
		<pathelement location="${libDir}/commons-codec-1.3.jar" />
		<pathelement location="${libDir}/commons-httpclient-3.1.jar" />
		<pathelement location="${libDir}/commons-logging-1.1.1.jar" />
		<pathelement location="${libDir}/jets3t-0.7.1.jar" />
		<pathelement location="${libDir}/junit-4.1.jar" />
		<pathelement location="${libDir}/mail.jar" />
		<pathelement location="${libDir}/mysql-connector-java-5.1.5-bin.jar" />
		<pathelement location="${libDir}/saxon9-sql.jar" />
		<pathelement location="${libDir}/saxon9.jar" />
		<pathelement location="${libDir}/sdbShell1.1.jar" />
		<pathelement location="${libDir}/typica.jar" />
	</path>


	<target name="jar" description="make jar file">

		<copydir dest="${targetSrc}/" src="${codeSource}/" />

		<!--
		<copy todir="${targetSrc}/" file="${codeSource}/" />
		<copy todir="${dist}">
			<fileset file="${ProgramName}.jar"/>
			<fileset dir="${libDir}" excludes="**/*.svn" />
		</copy>
		-->

		<javac srcdir="${targetSrc}" destdir="${binDir}">
			<classpath refid="jarset" />
		</javac>

		<jar destfile="${jarName}">
			<fileset dir="${binDir}">
				<include name="${ProgramName}/**" />
			</fileset>
			<manifest>
				<attribute name="Built-By" value="Lukas N. Mueller, 2010" />
				<attribute name="Main-Class" value="PPP_Analyzer.Main" />
				<attribute name="Class-Path" value="${ProgramName}.jar commons-beanutils-1.8.2.jar commons-codec-1.3.jar commons-httpclient-3.1.jar commons-logging-1.1.1.jar jets3t-0.7.1.jar junit-4.1.jar mail.jar mysql-connector-java-5.1.5-bin.jar saxon9-sql.jar saxon9.jar typica.jar sdbShell1.1.jar"/>
			</manifest>
		</jar>

		<delete dir="${binDir}/${ProgramName}"/>

	</target>
</project>